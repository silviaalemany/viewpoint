{"version":3,"sources":["App.js","index.js"],"names":["App","mapContainer","useRef","map","lng","setLng","useState","lat","setLat","zoom","setZoom","pinLng","pinLat","marker","useEffect","current","mapboxgl","Map","container","style","center","on","getCenter","toFixed","getZoom","e","coordinates","lngLat","remove","Marker","setLngLat","addTo","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","showUserHeading","_jsxs","children","className","_jsx","ref","accessToken","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"2PAOe,SAASA,IACvB,MAAMC,EAAeC,iBAAO,MACtBC,EAAMD,iBAAO,OAEZE,EAAKC,GAAUC,oBAAU,YACzBC,EAAKC,GAAUF,mBAAS,aACxBG,EAAMC,GAAWJ,mBAAS,IAEjC,IAAIK,EACAC,EACAC,EAsDJ,OApDAC,qBAAU,KACLX,EAAIY,UACRZ,EAAIY,QAAU,IAAIC,IAASC,IAAI,CAC9BC,UAAWjB,EAAac,QACxBI,MAAO,qCACPC,OAAQ,CAAChB,EAAKG,GACdE,KAAMA,IACJ,IAGJK,qBAAU,KACJX,EAAIY,SACTZ,EAAIY,QAAQM,GAAG,QAAQ,KACvBhB,EAAOF,EAAIY,QAAQO,YAAYlB,IAAImB,QAAQ,IAC3Cf,EAAOL,EAAIY,QAAQO,YAAYf,IAAIgB,QAAQ,IAC3Cb,EAAQP,EAAIY,QAAQS,UAAUD,QAAQ,GAAG,GACvC,IAiBHT,qBAAU,KACJX,EAAIY,SACTZ,EAAIY,QAAQM,GAAG,SAAUI,IAhB1B,IAAoBC,KAiBPD,EAAEE,QAfCvB,MAAQO,GAAUe,EAAYnB,MAAQK,IAEpDD,EAASe,EAAYtB,IACrBQ,EAASc,EAAYnB,IAClBM,IACFA,EAASA,EAAOe,UAEjBf,GAAS,IAAIG,IAASa,QACrBC,UAAU,CAACnB,EAAQC,IACnBmB,MAAM5B,EAAIY,SAMS,GACnB,IAGHZ,EAAIY,QAAQiB,WACX,IAAIhB,IAASiB,iBAAiB,CAC9BC,gBAAiB,CACjBC,oBAAoB,GAGpBC,mBAAmB,EAEnBC,iBAAiB,KAKjBC,eAAA,OAAAC,SAAA,CACAD,eAAA,OAAKE,UAAU,UAASD,SAAA,CAAC,cACbnC,EAAI,gBAAcG,EAAI,YAAUE,KAE5CgC,cAAA,OAAKC,IAAKzC,EAAcuC,UAAU,oBAKpC,CA5EAxB,IAAS2B,YAAc,gGCCvBC,IAASC,OACPJ,cAACK,IAAMC,WAAU,CAAAR,SACfE,cAACzC,EAAG,MAENgD,SAASC,eAAe,Q","file":"static/js/main.34cad871.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport ReactMapGL, { Marker } from \"react-map-gl\";\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\n\r\n// TODO: Move this to .env file. \r\nmapboxgl.accessToken = 'pk.eyJ1IjoiaHdlaW5zdG9jayIsImEiOiJjbGY0N2MwbncwM2w0M3ZzMnNlbTh6a2w0In0.0NAQOFar7N6hGYcPx_MGfA';\r\n\r\nexport default function App() {\r\n\tconst mapContainer = useRef(null);\r\n\tconst map = useRef(null);\r\n\t// TODO: Move these configs to some other file. \r\n\tconst [lng, setLng] = useState(-75.158924);\r\n\tconst [lat, setLat] = useState(39.9629223);\r\n\tconst [zoom, setZoom] = useState(11);\r\n\r\n\tvar pinLng;\r\n\tvar pinLat;\r\n\tvar marker;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (map.current) return; // initialize map only once\r\n\t\tmap.current = new mapboxgl.Map({\r\n\t\t\tcontainer: mapContainer.current,\r\n\t\t\tstyle: 'mapbox://styles/mapbox/streets-v12',\r\n\t\t\tcenter: [lng, lat],\r\n\t\t\tzoom: zoom\r\n\t\t\t});\r\n\t\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!map.current) return; // wait for map to initialize\r\n\t\tmap.current.on('move', () => {\r\n\t\tsetLng(map.current.getCenter().lng.toFixed(4));\r\n\t\tsetLat(map.current.getCenter().lat.toFixed(4));\r\n\t\tsetZoom(map.current.getZoom().toFixed(2));\r\n\t\t});\r\n\t});\r\n\r\n\tfunction mapClickFn(coordinates)\r\n\t{\r\n\t\tif(coordinates.lng !== pinLng || coordinates.lat !== pinLat) {\r\n\t\t\t// Update state of current click. \r\n\t\t\tpinLng = coordinates.lng;\r\n\t\t\tpinLat = coordinates.lat;\r\n\t\t\tif(marker){\r\n\t\t\t\tmarker = marker.remove()\r\n\t\t\t}\r\n\t\t\tmarker = new mapboxgl.Marker()\r\n\t\t\t.setLngLat([pinLng, pinLat])\r\n\t\t\t.addTo(map.current);\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tif (!map.current) return; \r\n\t\tmap.current.on(\"click\", (e) => {\r\n\t\t\tmapClickFn(e.lngLat);\r\n\t\t});\r\n\t})\r\n\r\n\tmap.current.addControl(\r\n\t\tnew mapboxgl.GeolocateControl({\r\n\t\tpositionOptions: {\r\n\t\tenableHighAccuracy: true\r\n\t\t},\r\n\t\t// When active the map will receive updates to the device's location as it changes.\r\n\t\ttrackUserLocation: true,\r\n\t\t// Draw an arrow next to the location dot to indicate which direction the device is heading.\r\n\t\tshowUserHeading: true\r\n\t\t})\r\n\t);\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t<div className=\"sidebar\">\r\n\t\tLongitude: {lng} | Latitude: {lat} | Zoom: {zoom}\r\n\t\t</div>\r\n\t\t<div ref={mapContainer} className=\"map-container\" />\r\n\t\t</div>\r\n\t\t);\r\n\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}